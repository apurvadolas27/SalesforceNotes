# 👥 Salesforce Users, Role Hierarchy & Duplicate Management – Lecture Notes

## 1. Users in Salesforce

### 🔹 Creating a User
- Navigate to: `Setup → Users → New User`
- Fill mandatory fields:
  - Name
  - Email
  - Username
  - Role
  - Profile
  - License

### 🔹 Deactivating a User
- Users cannot be deleted if they own records.
- Instead:
  - **Uncheck "Active"** checkbox
  - Or use **Freeze User** (blocks login but retains records)

### 🔹 Roles vs Profiles
- **Profile:** Defines permissions (what a user can do)
- **Role:** Defines record visibility hierarchy

### 🔹 Multiple Profiles or Roles
- One user can have:
  - Only **one profile**
  - Only **one role**, but multiple roles can exist across the hierarchy

---

## 2. Role Hierarchy

### 🔹 Purpose
- Controls **record-level visibility**

### 🔹 Duplicate Roles
- Occur when two roles have the same name or function
- Can cause confusion in data sharing

**Resolution:**
- Rename roles
- Merge users
- Delete unnecessary roles

### 🔹 Matching Roles
- Roles serving the same function across branches/business units
- Helps standardize reporting and sharing rules

---

## 3. Duplicate Management

### 🔹 Matching Rules
- Define criteria to identify duplicate records
- Applicable to:
  - Accounts
  - Contacts
  - Leads
  - Custom Objects

**Example:** Match on Email OR Phone Number

**Components:**
- Fields to match
- Matching method (Exact, Fuzzy, etc.)

### 🔹 Duplicate Rules
- Define actions when a duplicate is found

**Actions:**
- **Block:** Prevents record creation
- **Alert:** Warns user but allows save
- **Report Only:** Logs duplicate silently

**Components:**
- Object: Account, Contact, Lead, Custom
- Matching Rule: Which rule triggers
- Action: Alert, Block, Report

### 🔹 Duplicate Error Logs
- Triggered when Duplicate Rule blocks a record

**Contents:**
- Record Name/ID
- Object
- Duplicate Rule triggered
- Matching Rule used
- User Info
- Date & Time

**Access:**  
`Setup → Duplicate Management → Duplicate Record Sets / Jobs`

---

## 4. Custom Labels

### 🔹 Definition
- Store reusable text in Salesforce (messages, instructions, errors)

### 🔹 Features
- Multilingual support
- Centralized management
- Reusable across:
  - Formula fields
  - Flows
  - Validation rules
  - Email templates

### 🔹 Steps to Create
1. Go to `Setup → Custom Labels → New`
2. Fill:
   - Label
   - Name
   - Value
   - Description
3. Save

### 🔹 Admin/Declarative Use
- Display messages in formula fields or flows without coding
- Supports translations

---

## 5. Example: Show Message on Checkbox Using Custom Label

### 🎯 Scenario
Display message “This client is important” when **Important** checkbox is checked on **Contact** object.

### 🛠️ Steps

#### 1. Create Custom Label
- Label: `Important_Message`
- Value: `This client is important`

#### 2. Add Checkbox Field
- Object: `Contact → New Field → Checkbox`
- Label: `Important`

#### 3. Create Formula Field
- Field Label: `Important Description`
- Return Type: `Text`
- Formula:

IF(Important__c, $Label.Important_Message, "")

### 4. Testing Custom Label with Checkbox

 Add Formula Field to Page Layout
- Drag `Important Description` field to the Contact page layout.

### 5. Test Behavior
- **Check** the `Important` checkbox → message appears.
- **Uncheck** the checkbox → message disappears.

### 🌟 Benefits
- Fully **declarative** (no code required)
- **Reusable** and **translatable** message
- Easy to **maintain** and update centrally

---

## 📊 Summary Table: Duplicate & Matching Rules vs Custom Labels

| Feature              | Purpose                     | Admin Use                                  | User Impact                                         |
|----------------------|-----------------------------|---------------------------------------------|-----------------------------------------------------|
| **Matching Rule**     | Identify duplicates         | Configure fields & matching method          | Determines which records are considered duplicates |
| **Duplicate Rule**    | Decide action on duplicates | Block, Alert, Report                        | User sees alert or blocked record                  |
| **Duplicate Error Logs** | Track blocked attempts      | Admin can review                            | Users prevented from creating duplicates           |
| **Custom Label**      | Store reusable text         | Used in formula fields, flows, validation rules | Displays messages/instructions dynamically     |

---

> 💡 Tip: Use Custom Labels to centralize messaging logic and support multilingual deployments effortlessly.

